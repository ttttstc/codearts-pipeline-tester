---
name: huawei-pipeline-tester
description: 华为云 DevCloud 流水线自动化专家。支持 IAM 自动登录、Stealth 规避检测、实时状态监控及批量并行执行。
---

# Huawei Pipeline Tester

此 Skill 专为华为云 DevCloud 流水线设计，提供从登录到运行监控的全流程自动化能力。

## 核心能力

1.  **IAM 自动登录**：支持租户名、IAM 用户名、密码自动填充，自动处理登录模式切换。
2.  **Stealth 规避检测**：内置反爬虫指纹隐藏技术，有效规避“检测到设备不安全”等自动化拦截。
3.  **智能执行逻辑**：
    *   **多重定位**：自动识别“执行”或“运行”按钮。
    *   **弹窗自愈**：自动处理执行后的二次确认弹窗（支持多重选择器及 JS 注入强制点击）。
    *   **误判防护**：严格校验 API 响应或 URL 跳转，防止假阳性启动。
4.  **实时状态监控**：
    *   监听页面 `pipeline-runs/detail` 接口。
    *   实时反馈 `RUNNING`（黄）、`SUCCESS`（绿）、`FAILED`（红）等状态。
    *   **结果通知**：运行结束自动生成 Markdown 报告，包含 RunID 和跳转链接。
5.  **批量并行执行**：支持根据配置文件同时拉起多条流水线，极大提升测试效率。

## 配置文件指南

路径：`config/config.json` (位于项目根目录下)

```json
{
  "credentials": {
    "tenant": "您的租户名",
    "username": "您的IAM用户名",
    "password": "您的密码"
  },
  "headless": false,
  "pipelines": {
    "L0用例": "https://...",
    "L1用例": "https://..."
  }
}
```

## 使用方式

### 1. 通过 Claude 调用 (LLM 模式)
*   **单条运行**：`帮我运行华为云流水线 [URL]`
*   **批量运行**：`执行华为云流水线 L0用例、L1用例`

### 2. 独立运行 (测试同学推荐)
无需启动 Claude，直接在本地目录操作：
*   **环境准备**：首次运行请双击 `安装依赖.bat`。
*   **一键启动**：双击 `开始自动化测试.bat`。
*   **命令行启动**：运行 `node launcher.js`。
*   **交互菜单**：启动后根据数字编号选择要运行的用例，支持 `A` 键运行全部。

## 依赖环境
*   **Node.js**: v16+
*   **Playwright**: 核心驱动
*   **浏览器**: Chromium (由 Playwright 管理)

## 注意事项
*   **验证码处理**：若登录时弹出滑动验证码，请在浏览器窗口中手动完成，脚本会自动检测成功并继续。
*   **超时设置**：默认监控超时为 30 分钟。
